<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Reverse LinkedList - Blog - Yan Zhang</title>
	<meta name="description" content="Iteration and Recursion on Reversing LinkedList.">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-touch-icon-114x114.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#311e3e">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#311e3e">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#311e3e">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>
  <div class="flex-container">
  <header class="main-header">
  <div class="wrapper">
    <div class="header-flex">
      <div class="menu-icon-container">
        <span class="menu-icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
      </div>
      <nav class="main-nav">
        <span class="menu-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
        <ul>
          <li><a href="/">Blog</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </nav>
      <p class="logo"><a href="/">Yan Zhang</a></p>
      <div class="search-icon-container">
        <span class="search-icon"><a><i class="fa fa-search" aria-hidden="true"></i></a></span>
      </div>
    </div>
  </div>
</header> <!-- End Header -->

  <article class="article-page">
    <div class="page-image">
      <div class="cover-image" style="background: url(/assets/img/reverselinkedlist.jpg) center no-repeat; background-size: cover;"></div>
    </div>
    <div class="wrapper">
      <div class="page-content">
        <div class="header-page">
          <h1 class="page-title">Reverse LinkedList</h1>
          <div class="page-date"><time datetime="2018-05-01 09:30:00 -0400">2018, May 01</time></div>
        </div>
        <h2 id="reverse-linkedlist">Reverse LinkedList</h2>

<p>The first problem(<a href="https://leetcode.com/problems/reverse-linked-list/description/">Leetcode 206</a>) is to reverse a singly linked list. We can do it either iteratively or recursively.</p>

<ul>
  <li>Iteration</li>
</ul>

<p>Iteration is pretty intuitive and simple, which means we just iterate the whole list, and make the next pointer of each node point to its previous node, repeating the process one by one. <strong>This would take O(n) time complexity as iterating the whole n nodes, and O(1) space complexity.</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Iteration</span>
<span class="kd">public</span> <span class="n">ListNode</span> <span class="nf">reverseList</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">ListNode</span> <span class="n">pre</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
      <span class="n">ListNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
      <span class="n">ListNode</span> <span class="n">next</span><span class="o">;</span>
      <span class="k">while</span><span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">next</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
          <span class="n">cur</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">;</span>
          <span class="n">pre</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span>
          <span class="n">cur</span> <span class="o">=</span> <span class="n">next</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">pre</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>Recursion</li>
</ul>

<p>The recursive way is a little tricky. The key concept is, we always assume the whole list after the current node we are processing has already been reversed. So all we need to consider is just reversing the next pointer of the current node back to its previous node. It actually works backwords. <strong>The time complexity is still O(n), but the space complexity is O(n) since there is an implicit stack, which could go up to n levels deep.</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Recursion</span>
<span class="kd">public</span> <span class="n">ListNode</span> <span class="nf">reverseList</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span><span class="o">(</span><span class="n">head</span> <span class="o">==</span> <span class="kc">null</span><span class="o">||</span><span class="n">head</span><span class="o">.</span><span class="na">next</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">return</span> <span class="n">head</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="n">ListNode</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">reverseList</span><span class="o">(</span><span class="n">head</span><span class="o">.</span><span class="na">next</span><span class="o">);</span>
      <span class="n">head</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
      <span class="n">head</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
      <span class="k">return</span> <span class="n">pre</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>In addition, the ListNode pre here is to save the last node of the original list, which can be returned as the head of the new reversed list later.</p>

<h2 id="reverse-linkedlist-ii">Reverse LinkedList II</h2>

<p>The second problem(<a href="https://leetcode.com/problems/reverse-linked-list-ii/description/">Leetcode 92</a>) is to reverse a part of a linked list, instead of the whole list. At first glance, I was also thinking about using the two methods: iteration and recursion naturally. By iteration, the problem is after we reversing the required part, we still have to spend some time to connect the head, middle and tail part. That is not efficient. By recursion, we can start reversing from the middle node, then expanding the reversion until covering the left-th and right-th nodes. We solve the problem by progressing (l, r) into (l + 1, r - 1)â€¦until l == r, where we can directly return the single node. But the same problem of taking time to connect appears again, we cannot do this in one-pass.</p>

<p>So, what should I doâ€¦? I checked the answer. ðŸ˜‚</p>

<p>The solution is inserting the nodes of the required reversing part, into the start position of the reversing part one by one. I know that is not neat. It is also kind of like, iteration.</p>

<p><em>For example, the original list is 1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6. (we want to reverse 2-&gt;3-&gt;4-&gt;5)</em></p>

<p><em>1-st inserting 2: 1-&gt; <strong>2-&gt;3-&gt;4-&gt;5</strong> -&gt;6</em></p>

<p><em>2-nd inserting 3: 1-&gt; <strong>3-&gt;2-&gt;4-&gt;5</strong> -&gt;6</em></p>

<p><em>3-rd inserting 4: 1-&gt; <strong>4-&gt;3-&gt;2-&gt;5</strong> -&gt;6</em></p>

<p><em>4-th inserting 5: 1-&gt; <strong>5-&gt;4-&gt;3-&gt;2</strong> -&gt;6</em></p>

<p><em>Done!</em></p>

<p><strong>The time complexity is up to O(n) as we may processing the whole n nodes. The space complexity is just O(1).</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="n">ListNode</span> <span class="nf">reverseBetween</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">,</span> <span class="kt">int</span> <span class="n">m</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span><span class="o">(</span><span class="n">head</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">head</span><span class="o">.</span><span class="na">next</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">m</span> <span class="o">==</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
          <span class="k">return</span> <span class="n">head</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="n">ListNode</span> <span class="n">dummy</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ListNode</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
      <span class="n">dummy</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
      <span class="n">ListNode</span> <span class="n">pre</span> <span class="o">=</span> <span class="n">dummy</span><span class="o">;</span>
      <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
          <span class="n">pre</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="n">ListNode</span> <span class="n">start</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
      <span class="n">ListNode</span> <span class="n">then</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
      <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
          <span class="n">start</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">then</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
          <span class="n">then</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">pre</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
          <span class="n">pre</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">then</span><span class="o">;</span>
          <span class="n">then</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="n">dummy</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

        <div class="page-footer">
          <div class="page-tag">
            <span>Tags:</span>
            
            <a href="/tags#Algorithm" class="tag">| Algorithm</a>
            
            <a href="/tags#Leetcode" class="tag">| Leetcode</a>
            
            <a href="/tags#LinkedList" class="tag">| LinkedList</a>
            
          </div><!-- End Tags -->
          <div class="page-share">
            <span>Share:</span>
            <a href="https://twitter.com/intent/tweet?text=Reverse LinkedList&url=http://localhost:4000/reverse-linkedlist/" title="Share on Twitter" rel="nofollow" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a href="https://facebook.com/sharer.php?u=http://localhost:4000/reverse-linkedlist/" title="Share on Facebook" rel="nofollow" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://plus.google.com/share?url=http://localhost:4000/reverse-linkedlist/" title="Share on Google+" rel="nofollow" target="_blank"><i class="fa fa-google" aria-hidden="true"></i></a>
          </div><!-- End Share -->
        </div>
        <section class="author-box">
  <img src="/assets/img/Yan.jpeg" alt="Yan Zhang" class="author-img">
  <div class="author-desc">
    <h2>Yan Zhang</h2>
    <p>My name is Yan Zhang. Iâ€™m an ios developer and rock music lover.</p>
    <ul>
      
        <li class="email"><a href="mailto:zyellie7@gmail.com"><i class="fa fa-envelope-o"></i></a></li>
      
      
        <li class="linkedin"><a href="https://www.linkedin.com/in/yan-ellie-zhang-81785a12b" target="_blank"><i class="fa fa-linkedin"></i></a></li>
      
      
        <li class="github"><a href="http://github.com/YanZhang233" target="_blank"><i class="fa fa-github"></i></a></li>
      
    </ul>
  </div>
</section>

        <div class="recent-box">
  <h2 class="recent-title">Recent post</h2>
  <div class="recent-list">
    
      
        <a href="/backtracking/" class="recent-item" style="background: url(/assets/img/backtracking.jpg) center no-repeat; background-size: cover;"><span>Backtracking</span></a>
      
    
      
        <a href="/reverse-linkedlist/" class="recent-item" style="background: url(/assets/img/reverselinkedlist.jpg) center no-repeat; background-size: cover;"><span>Reverse LinkedList</span></a>
      
    
      
        <a href="/hello-yan/" class="recent-item" style="background: url(/assets/img/post.jpg) center no-repeat; background-size: cover;"><span>Hello Yan</span></a>
      
    
  </div>
</div> <!-- End Recent-Box -->

        <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//yanzhang.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

      </div>
    </div> <!-- End Wrapper -->
  </article>
  <div class="search-box">
  <div class="wrapper">
    <div class="search-grid">
      <form class="search-form">
        <div id="search-container">
          <input type="text" id="search-input" class="search" placeholder="Search">
        </div>
      </form>
      <ul id="results-container" class="results-search"></ul>
      <div class="icon-close-container">
        <span class="search-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
      </div>
    </div>
  </div>
</div>

  <footer class="main-footer">
  <div class="copyright">
    <p>2018 &copy; Yan Zhang</p>
  </div>
</footer> <!-- End Footer -->

</div>

  <!-- JS -->
<script src="/assets/js/jquery-3.2.1.min.js"></script>
<script src="/assets/js/jekyll-search.js"></script>
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    fuzzy: false,
    exclude: ['Welcome']
  });
</script>
<script src="/assets/js/main.js"></script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-118570595-1', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
